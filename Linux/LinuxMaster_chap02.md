기출문제 오답 정리

<br>

### CentOS 7
centos7부터는 기본 파일시스템이 `xfs`

- `xfs_quota`: 사용자의 디스크 용량 제한 명령어
- `fsck`, `e2fsck`, `xfs_repair`: 사용가능한 파일 시스템 점검 명령
- `systemd`: CentOS 7 리눅스의 최초 프로세스명

<br>

# 1. 파일 시스템 관련 명령어

### 디렉터리와 파일의 권한
권한 | 파일 | 디렉터리
----|----|----
r |파일 내용을 볼 수 있음|디렉터리 내부의 **내용 볼 수** 있음
w |파일 내용을 수정할 수 있음|디렉터리 내부의 파일을 생성 및 삭제 가능
x |실행 파일을 실행시킬 수 있음|디렉터리 내부에 **접근 가능**

### chown
소유권 변경 명령어      
**`/etc/passwd`**: 소유권 변경시 참조하는 파일   

ex)    
`chown ihduser.admin lin.txt`     
`chown ihduser:admin lin.txt`     
(:)을 (.)으로 대체 가능

### 특수 권한
특수 권한이 설정된 파일
- `/bin/su`
- `/bin/mount`
- `/usr/bin/passwd`

Set-UID, Set-GID는 보안에 취약함!

### 리눅스 파일 시스템
저널링 파일 시스템: **`ext3`**, **`ext4`**, **`Reiserfs`**, **`XFS`**, **`JFS`**      
**`sysv`**: SystemV/Coherent 파일시스템을 리눅스에서 구현      
**`smb`**: 네트워크 파일시스템인 SMB 프로토콜 구현한 파일 시스템, 최근에는 CIFS로 확장     

### mount
보조기억장치나 파일 시스템이 다른 디스크를 /의 하위 디렉터리로 연결해 사용하게 함     
`# mount [option] [device] [directory]`    
- `-t fs_type` 옵션
  - `smbfs`: 삼바 파일시스템을 마운트할 때 지정   
- `-o` 옵션 
  - `remount`: 해당 파티션 다시 마운트
  - `loop`: loop 디바이스로 마운트할 때 씀, **iso 파일(CD-ROM이미지) only**

### fdisk
디스크 파티션 확인하고 추가/삭제하는 명령    
→ 설정후 반드시 재부팅   
ex) `# fdisk -l`: 장착된 디스크들의 파티션 테이블 정보 출력

#### fdisk 주요 명령
- `-t` : 파티션 속성 변경
  - 82: Swap
  - 83: Linux
  - 8e: Linux LVM
  - fd: Raid 

### mkfs, mke2fs (make filesystem)
새로운 파일 시스템을 만드는 명령     
mke2fs 명령은 ext2, ext3, ext4 시스템을 만드는 명령    

#### 파일시스템 생성 명령어 간소화
최근 리눅스 배포판에서 사용 가능     
ex) `mkfs.ext2`, `mkfs.ex3`, `mkfs.ex4`, `mkfs.xfs`

### df (disk free)
**파티션 단위** 디스크 사용량
- `# df - hT`: 마운트된 파일 시스템의 디스크 사용량 관련 정보 출력 + 사용량 **관련 단위**를 붙이고, **파일 시스템 유형** 출력
- `# df - i`: 마운트된 파일 시스템의 **아이노드 사용량** 관련 정보 출력 

### du (disk usage)
**파일/디렉터리, 사용자별** 디스크 사용량
- `$ du -sh`: 현재 디렉터리의 총 사용량 출력
- `$ du -sh ~posien`: posien 사용자의 총 사용량 출력



### /etc/fstab 파일
- 파일 시스템에 대한 다양한 정보를 담고 있는 파일
- 부팅 시에 마운트할 파티션 정보가 기록되어 있는 파일

#### fstab 필드 구성
- 첫 번째: 장치명 → (최근 배포판) 볼륨 라벨 or UUID
- 두 번째: 마운트될 디렉터리
- 세 번째: 파일 시스템의 유형
  - ex) ex4, swap, nfc .. 
- 네 번째: 마운트될 때의 옵션
  - ex) defaults, usrquota, grpquota, acl .. 
- 다섯 번째: dump 명령을 통한 백업시 레벨 덤프 사용 주기
  - 0: dump 사용 x
  - 1: 매일 수행
  - 2: 이틀에 한 번 수행  
- 여섯 번째: 부팅 시 파일 시스템을 점검하는 fsck 명령의 순서


### 사용자 쿼터 설정 단계 
`quotacheck` → `edquota` → `quotaon` → `repquota`     
(쿼터사전준비/점검 → 쿼터설정 → 쿼터사용활성화 → 쿼터설정확인)






<br>

# 2. Shell

### 주요 셸 개발 순서
셸 | 년도 | 개발자 | 특징 |
--|-----|-------|----|
Borune Shell | 1977 | 스티븐 본 | 유닉스 버전 7의 기본 셸
C 셸 | 1978 | 빌 조이 | C언어 기반
tcsh | 1981 | - | 켄 그리어가 테넥스(TENEX) 운영체제에 명령행 완성 기능 반영<br> C Shell과 통합<br> csh 기능 강화
ksh | 1983 | 데이비드 콘 | 본셸 확장<br> 벨연구소 사용자의 요청으로 C셸의 많은 기능 추가
bash | 1989 | 브라이언 폭스 | GNU 프로젝트를 위해 개발<br> 본 셸 기반<br> 리눅스 표준 셸<br> POSIX와도 호환

### chsh 명령어 (Change Shell)
사용자가 로그인 셸을 변경하는 명령어
- 옵션
  - `-l` (list) : 변경 가능한 셸 목록 출력
  - `-s` (shell) : 로그인 셸을 사용자가 입력한 셸로 변경
  - `-u` (help) : 명령어 관련 도움말 

ex) `$ chsh -s /bin/csh` : 사용자가 로그인 셸을 변경함 

### 셸 변수와 환경 변수
- **셸 변수** = 지역 변수
  - 셸 변수 선언 ex) `os=linux`
  - 셸 변수 출력 ex) `echo $os` 
- **환경 변수** = 전역 변수 → 대문자!!! 


### 부여된 셸 확인
1. **`ps`** 명령
2. **`echo $SHELL`** 명령
3. **`grep 본인계정명 /etc/passwd`** 명령    
 
※ `/etc/passwd` : 사용자의 로그인 시에 부여되는 셸 정보 기록    
    → 7번째 필드: **사용자의 로그인셸**이 기록되어 있는 곳    
※ `/etc/shadow` : 사용자의 패스워드 관련 정보 기록    

#### vs. 변경 간능한 셸의 확인 (여러 개 출력)
1. **`chsh -l`** 명령
2. **`cat /etc/shells`** 명령


### 주요 환경변수
- 셸 명령 행에서 명령 줄이 긴 경우에 **`₩` 기호**로 행 연장 가능 → 명령줄이 바뀌면서 나타나는 기호와 관련된 환경 변수가 **PS2**
- **PATH** 변수에 환경변수 추가하기: `$ PATH=$PATH:$HOME/data` 

- `env`: 현재 설정된 **전체 환경변수의 값**을 확인할 때 사용하는 명령어
- `set`: 셸에서 선언된 **셸 변수 전부**를 확인할 때 사용하는 명령어 (+ 환경변수 포함한 셸 변수 전부를 출력)

### history 명령어
`history`: 히스토리에 저장된 명령어 목록 출력    
`history [숫자값]` : 마지막 [숫자값] 만큼의 명령어 목록 출력 (복수)        
`!!` : 가장 마지막에 실행한 명령 재실행 (단수)    
`!100` : 히스토리 목록 번호 중 100번째에 해당하는 명령 실행    









<br>

# 3. 프로세스 관리

### Signal
프로세스끼리 통신할 때 사용
#### 키보드 입력으로 발생하는 인터럽트 시그널 종류
no | 이름 | 의미
---|-----|-----
2  | SIGINT | ctrl+c : 키보드로부터 오는 인터럽트 시그널로 실행 중지
3 | SIGQUIT | ctrl+\ : 키보드로부터 오는 실행 중지 
20 | SIGTSTP | ctrl+z : 실행 정지 후 다시 실행을 계속하기위해 대기시키는 시그널

### daemon
주기적이고 지속적인 서비스 요청을 처리하기 위해 계속 실행되는 프로세스    
백그라운드로 실행
- standalone 방식
- inet 방식

### ps 명령어 (process status)
동작중인 프로세스의 상태를 출력해주는 명령
- 옵션
  - -x: 동작중인 데몬 확인
- 프로세스 상태코드 STAT 주요 값
  - < : 우선순위가 인위적으로 높아진 상태 (nice된 것은 아님)
  - N(Nice) : 다른 사용자에 의해 인위적으로 우선순위가 낮아진 상태
  - Z(Zombie) : 좀비 프로세스로 작업이 종료되었으나 부모 프로세스로부터 회수되지 않아 메모리 차지한 상태      

### kill 명령어
프로세스에 특정 시그널을 보내는 명령      
`# kill [option] [signal] [PID 또는 %job_number]` 
- 옵션
  - -l : 시그널 종류(이름과 번호 확인) 출력
  - -s signal: 시그널 이름 지정    
ex) `kill -9 22{1,2,3}9` : 프로세스 식별번호가 2219, 2229, 2239인 프로세스 강제 종료

### killall 명령어
같은 데몬의 여러 프로세스 한번에 죽일 때 사용      
`# killall [option] 프로세스명` 

※ `kill` 명령은 **[PID 또는 %job_number]** 지정        
※ `killall` 명령은 **프로세스명** 지정    


### top 명령어 기능
실행 중인 동작 중인 프로세스의 상태를 실시간으로 화면에 출력해주는 명령     
- 프로세스의 상태
- CPU 
- 메모리
- 부하 상태   

확인 가능  
실행 상태에서 다양한 명령을 입력해 **프로세스 종료, 우선순위 변경** 등과 같은 제어 가능
#### top 명령어 옵션
- **`-d 갱신시간`**: 갱신시간 설정 (초 단위)
- **`-p`**: 특정 PID값을 갖는 프로세스를 모니터링할 때 사용

#### top 실행상태에서의 명령
- **`t`**: 프로세스와 CPU 항목을 on/off (turn on/off)
- **`m`**: 메모리 관련 항목을 on/off
- **`k`**: kill 명령
- **`P`**: %CPU 값으로 정렬 
- **`W`**: 바꾼 설정 저장


### 프로세스 우선순위: PRI와 NI
**PRI**: **운영체제에서** 참고하는 우선순위 값으로 낮은 값일수록 우선순위가 높음, 우선순위 값 (0~99, 100~139)   
**NI**: **root나 사용자가 조작하는** 우선순위 값으로 -20~19까지 설정 가능함, 낮은 값일수록 우선순위가 높으며, root만이 NI값을 낮춰 우선순위를 높일 수 있음 (일반사용자는 NI값 증가만 가능)        
→ NI값을 설정하면 리눅스는 상황에 따라 PRI 값을 적절히 변경해 우선순위 조정   

#### 우선순위 변경 가능한 명령어
- nice
  - `# nice [option] 프로세스명`
  - NI값에 따라 증감되는 형태
- renice
  - `# renice [option] NI값 PID` 
  - 지정한 NI값으로 바로 설정
- **top**

※ `nice` 명령은 **프로세스명** 지정
※ `renice` 명령은 **PID** 지정

### cron
주기적으로 실행하는 작업(시스템 운영에 필요한 작업, 사용자의 필요에 의한 작업)    
- `/etc/crontab`: root 권한으로 디렉터리에 등록해서 주기적으로 수행 → 사용자는 crontab 명령으로 등록 가능 (7개의 필드 구성)
- `/var/spool/cron`: 일반 사용자가 등록한 cron 작업 관련 파일이 저장되는 디렉터리

### `crontab` 명령어
사용자가 주기적인 작업을 등록하기 위해 사용하는 명령 → 실행시 vi 편집기 실행됨    
※ `*/x` 형태: **매 x마다**로 해석     
ex) `*/30 * * * * /etc/backup.sh`: 백업스크립트 30분 주기로 실행








<br> 

# 4. 에디터

### 에디터 종류 및 특징
각 에디터에서 지원하는 기능 
종류 | 특징
----| ----
**PICO** | **Aboil Kasar**가 개발한 유닉스 기반의 텍스트 에디터 <br> 최근 리눅스 배포판에는 `nano`가 제공 <br> 지원 기능: 단락 정의, 맞춤법 검사, 복사 및 붙여넣기 
**emacs** | **리처드 스톨만**이 매크로 기능이 있는 텍스트 교정 및 편집기로 개발 <br>GNU emacs: 최근 리눅스 배포판에 사용됨, 'emacs LISP'라 하는 LISP에 기반을 둔 환경 설정 언어로 처음부터 다시 만듦 <br> 강력한 질의 치환 기능 - `[Esc] 키` ->  `% 키` -> 화면 하단 `Query replace`: 프롬프트  
**vim** | **브람 무레나르(Bram Moolenaar)** 가 만듦<br>현재 리눅스 배포판에 사용되는 편집기로 오리지날 버전은 `vi`<br> 옵션 `-r` : 손상된 파일 복구할 때 사용 <br> 지원 기능: **하이라이트 기능**, **빠른 검색**, 히스토리 기능, 문법 검사 기능, 다중 되돌리기 기능 

#### PICO & emacs 커서 이동 단축키 조합
조합 | 설명
---- | ----
[Ctrl]+[a] | 현재 커서가 위치한 줄의 **처음으로** 커서 이동
[Ctrl]+[e] | 현재 커서가 위치한 줄의 **끝으로** 커서 이동
[Ctrl]+[p] | 커서를 **윗줄**(⬆)로 이동
[Ctrl]+[n] | 커서를 **아랫줄**(⬇)로 이동
[Ctrl]+[b] | 커서를 **뒤**(⬅)로 이동 (back)
[Ctrl]+[f] | 커서를 **앞**으로(➡) 이동 (forward)


#### GUI 기반 에디터
- gVim
- **gedit**: GNOME 기반의 문서 편집기로 용량은 작지만, 다양하고 강력한 기능 제공
- XEmacs

### vi 명령어
#### 옵션
-r 옵션: 비정상적인 종료로 인해 손상된 파일 복구시 사용    
→ ex) **`.a.txt.swp` 파일**(숨김파일)의 내용을 불러와서 작업 후, 스왑 파일 삭제

#### 삭제하기
- `x` 또는 `dl`: 현재 커서가 위치한 문자 삭제
- `dd`: 현재 커서가 위치한 줄 삭제

#### vi 환경설정
**ex 명령모드**에서 `set` 사용해 환경변수 설정 가능     
`:set [환경변수]=[값]`    

- `ignorecase`: 대소문자 관계 없이 검색 - ic
- `number`: 행 번호 추가 - nu
- `autoindent`: 커서위 위치를 바로 윗줄과 같게 맞춤, 프로그램 작성시 용이 - ai
- `showmatch`: 괄호 짝 찾기 - sm








<br> 

# 5. 소프트웨어 설치

### 소스 (Source) 설치법
> 압축 풀기 → 디렉터리 이동 → configure → make → make install
- configure 단계
  - 소스 프로그램의 환경 설정 스크립트
  - Makefile이 생성됨
#### cmake 기반 프로그램 설치 순서
> cmake → make install    (2단계)

#### `make clean` 명령어
소스 설치 과정에서 configure 작업으로 생성된 다양한 파일을 제거할 때 사용

#### 소스프로그램 설치 도구
- 압축도구 (**tar**)
- GNU C컴파일러 (**gcc**)
- 의존성 검사도구 (**make**)

### 패키지 설치법
- RPM 개요
  - 패키지이름-버전-릴리즈-아키텍처.rpm 
- 데비안 패키지 관리
  - 패키지이름_버전-릴리즈-아키텍처.deb

### tar
**`$ tar [option] [파일명]`**

#### tar의 option
- **`-r`**: 기존의 tar 파일 뒤에 파일 추가
- **`-t`**: tar 파일 안에 묶여 있는 파일 목록 출력   

#### `zcat`
gzip으로 압축된 텍스트 파일 내용 확인 명령어



### rpm
**`$ rpm [option] [패키지_파일명]`**

#### (1) 설치 및 갱신 모드 option
- **`-ivh`**: 새로운 패키지 설치
- **`-Uvh`**: 패키지 업그레이드
- **`-Fvh`**: 이전 버전이 설치되어 있는 경우에만 설치 (--freshen)

#### (3) 질의 모드 option
- **`-q`**: 질의에 꼭 사용하는 옵션으로 q 옵션만 사용시 패키지 설치 유무/간단한 버전 정보만 출력

### yum
**`# yum [option] [command] [패키지_파일명]`**

`rpm 기반`의 시스템 패키지를 손쉽게 설치해주고 자동으로 업데이트를 수행하는 명령행 기반의 유틸리티이다.    
yum은 `repository`에 관련 패키지들을 모아두고, 네트워크를 통해서 의존성을 검사하여 설치 및 업데이트 등을 수행한다.

#### yum의 option
- **`-y`** : 모든 질의에 yes라고 대답

#### yum의 command
- **`search [문자열..]`**: 문자열이 포함된 패키지를 찾아줌
- **`install [패키지명]`**: 패키지 설치시 사용
- **`info [패키지명]`**: 패키지에 대한 정보 출력 

#### /etc/yum.repos.d
yum 명령의 저장소 관련 파일들이 위치하는 디렉터리



### dpkg
#### dpkg의 option
- `-i 패키지파일명` : 패키지 설치
- `-l` : 설치되어 있는 패키지 목록 출력
- `-L 패키지명` : 패키지가 설치한 파일 목록 출력


### apt-get
- 패키지 관리를 쉽게하는 명령행 기반의 유틸리티
- `/etc/apt/sources.list` 파일에 패키지 관련 정보를 관리
  - → **의존성**과 **충돌성**을 쉽게 해결
- APT (Advanced Pakaging Tool) 라이브러리 
- GUI 기반
  - synaptic: APT 패키지 관리 시스템 → GTK+ 기반의 GUI 도구
  - aptitude 

#### apt-get의 command
- **`remove 패키지명`**: 패키지를 삭제 
- **`clean`**: `/var/cache/apt/archive`에 생성된 파일 삭제 

#### 패키지별 삭제 방법 비교
패키지 구분 | 명령어 | 삭제 방법
---------|------|---------
rpm |`rpm [option] [패키지_파일명]` | `-e` (제거모드)
yum |`yum [option] [command] [패키지_파일명]` | `remove` <br>`erase`
dpkg |`dpkg [option] [패키지명] [패키지파일명]` | `-r` : 환경설정 남기고 제거 <br>`-P` : 전부 제거
atp-get |`apt-get [option] [command] [패키지명]` | `remove`






<br>

# 6. 장치 설정

### 프린터
- **`LPRng`**
- **`CUPS`**
  - 애플이 개발한 오픈 소스 프린팅 시스템
  - **HTTP** 기반의 **IPP**(Internet Printing Protocol) 사용
  - **SMB** 프로토콜 부분적 지원
  - BSD와 System V 계열 명령어 사용 가능
  - `http://localhost:631` : 네트워크를 통해 프린터를 설정할 때 접속 포트번호  

※ 리눅스 시스템에 프린터 직접 연결; 관련 파일 자동 생성
※ 병렬 포트 연결: `/dev/lp0` 파일
※ USB 포트 연결: `/dev/usb/lp0` 파일

#### 네트워크 프린터 설정
- AppSocekt/HP JetDirect : 프린터가 컴퓨터에 연결되어 있지 않고, 직접 네트워크에 연결된 경우
- Internet Printing Protocol (**ipp**)
- Internet Printing Protocol (**https**)
- LPD/LPR Host or Printer (**LPD**)
- Wndows Printer via SAMBA (**SMB**)

#### `system-config-printer` 명령어
CentOS 6버전에서 사용하는 X 윈도 기반의 프린터 설정 명령

### 사운드카드
- **`ALSA`**
  - 사운드 카드용 **장치 드라이버 제공**하기 위한 리눅스 커널 요소
  - 1998, Jaroslav Kysela에 의해 시작
  - GPL 및 LGPL 라이선스 기반    
- **`OSS`**
  - 사운드를 만들고 **캡처**하는 인터페이스
  - 표준 유닉스 장치 시스템 콜(POSIX)에 기반
  - 1992, Hannu Savolainen에 의해 개발
  - Linux GPL 라이선스 → BSD 라이선스 기반 소스 공개

### 스캐너
- **`SANE`**
  - GPL 라이선스로 공개
  - 이미지 관련 하드웨어를 사용할 수 있도록 해주는 API
  - 스캐너 관련 드라이버와 사용자 관련 명령이 있는 2개의 패키지로 구분되어서  
- **`XSNAE`**
  - X-Window 기반
  - **GTK+** 라이브러리  

#### `sane-find-scanner` 명령어
USB 및 SCSI 스캐너와 관련 장치를 찾아주는 명령어
- SCSI 스캐너: /dev/sg0, /dev/scanner
- USB 스캐너: /dev/usb/scanner, /def/usbscanner

#### `scanimage` 명령어
이미지를 스캔하는 명령어
- **`--format 옵션`**: 이미지 형식 지정 (**pnm 형식**이 default, tiff 형식)
