### immer 라이브러리

전개 연산자 + 배열의 내방함수 → 간단하게 배열(or 객체)을 복사하고 새로운 값을 덮어 쓸 수 있음!   
하지만, 불변성을 유지하면서 이를 업데이트 하는 것이 힘듦

전개 연산자의 사용 → 기존에 가지고 있던 다른 값은 유지하면서 원하는 값을 새로 지정하기 위함    
하지만, 전개 연산자를 여러번 사용하는 것은 번거롭고 가독성이 좋지 않음 (값 하나를 업데이트 하기 위해 코드 열줄을 작성)

**immer 라이브러리**

- 구조가 복잡한 객체도 **매우 쉽고 짧은 코드**를 사용
- **불변성을 유지하면서 업데이트 가능**

# 12.1 immer를 설치하고 사용법 알아보기

### immer 사용법

```jsx
// 예시 코드
import produce from 'immer';
const nextState = produce(originalState, draft => {
	// 바꾸고 싶은 값 바꾸기
	draft.somewhere.deep.inside = 5;
})
```

- **produce 함수**의 두가지 파라미터
    - **`originalState`** : 수정하고 싶은 **상태**
    - **`draft`** : 상태를 어떻게 업데이트할지 정의하는 **함수** ⇒ 함수 내부에서 원하는 값을 변경하면, produce 함수가 불변성 유지를 대신해주면서 새로운 상태를 생성

"불변성에 **신경쓰지 않는 것처럼 코드를 작성**하되 **불변성 관리는 제대로** 해주는 것"     
`immer`를 사용하다고 해서 무조건 코드가 깔끔해지는 것은 아님! 따라서, 불변성을 유지하는 코드가 복잡해질 때만 사용해도 됨~

### 총정리

immer는 **컴포넌트의 상태 업데이트가 조금 까다로울 때** 사용하면 매우 좋음!
- Redux를 사용할 때 immer를 쓰면 코드 쉽게 작성 가능!
- immer 라이브러리는 필수는 아니지만, 생산성을 높일 수 있음!
